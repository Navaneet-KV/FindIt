<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Item Requests | FindIt</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">

    <style>
        .items-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 25px;
            padding: 30px;
        }

        .item-card {
            background: rgba(255,255,255,0.15);
            backdrop-filter: blur(10px);
            border-radius: 16px;
            box-shadow: 0 15px 40px rgba(0,0,0,0.4);
            padding: 20px;
        }

        .approve-btn {
            display: inline-block;
            margin-top: 12px;
            padding: 10px 16px;
            background: #4caf50;
            color: #000;
            border-radius: 8px;
            text-decoration: none;
            font-weight: bold;
        }

        .status-badge {
            padding: 6px 12px;
            border-radius: 14px;
            font-size: 12px;
            font-weight: bold;
        }

        .Pending { background: #ffc107; color: #000; }
        .Approved { background: #4caf50; color: #000; }
        .Rejected { background: #f44336; color: #fff; }
    </style>
</head>

<body class="dash-bg">

<div class="dash-container">

    <div class="dash-header">
        <h2>ðŸ“„ Item Requests</h2>
        <a href="/dashboard" class="logout">Back</a>
    </div>

    {% if data and data|length > 0 %}

    <div class="items-grid">

        {% for r in data %}
        <div class="item-card">

            <h3>{{ r[1] }}</h3>

            <p>
                <b>Requested by:</b> {{ r[2] }}
            </p>

            <p>
                <b>Status:</b>
                <span class="status-badge {{ r[3] }}">
                    {{ r[3] }}
                </span>
            </p>

            {% if r[3] == "Pending" %}
                <a href="/approve/{{ r[0] }}" class="approve-btn">
                    Approve Claim
                </a>
            {% endif %}

        </div>
        {% endfor %}

    </div>

    {% else %}

    <div class="card">
        <h3 style="text-align:center;">No requests available</h3>
        <p style="text-align:center; opacity:0.8;">
            When someone requests your item, it will appear here.
        </p>
    </div>

    {% endif %}

</div>

<div class="footer">
    Â© 2026 FindIt | College Lost & Found System
</div>

</body>
</html>
